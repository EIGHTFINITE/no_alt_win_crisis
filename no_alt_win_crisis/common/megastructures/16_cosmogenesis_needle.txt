cosmogenesis_needle = {
	entity = "monadic_qerr_entity"
	construction_entity = "monadic_qerr_entity"
	portrait = "GFX_megastructure_construction_background"
	entity_offset = { x = -40 y = -20 }
	build_time = 4800
	show_in_outliner = no
	resources = {
		category = megastructures
		cost = {
			advanced_logic = 17500
			sr_dark_matter = 1000
		}
		cost = {
			trigger = {
				country_uses_bio_ships = no
			}
			alloys = 50000
		}
		cost = {
			trigger = {
				country_uses_bio_ships = yes
			}
			alloys = 50000
			mult = 0.5
		}
		cost = {
			trigger = {
				country_uses_bio_ships = yes
			}
			food = 50000
			mult = @halved_alloy_to_food_cost_ratio
		}
	}

	custom_tooltip_requirements = "MEGASTRUCTURE_TOOLTIP_REQUIREMENTS_NEEDLE"

	potential = {
		has_technology = tech_cosmogenesis_crisis_5
		NOT = {
			has_country_flag = cosmogenesis_needle_built
		}
	}

	possible = {
		hidden_trigger = {
			exists = starbase
		}
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
		custom_tooltip = {
			fail_text = cosmogenesis_aborted_tt
			from = { NOT = { has_country_flag = cosmogenesis_aborted } }
		}
	}

	placement_rules = {
		planet_possible = {
			custom_tooltip = {
				fail_text = "requires_capital"
				is_colony = yes
				is_capital = yes
				exists = owner
				exists = controller
				controller = { is_same_value = prev.owner }
			}
		}
	}

	on_build_complete = {
		from = {
			set_country_flag = cosmogenesis_needle_built
			end_event_chain = cosmogenesis_chain
			add_research_option = tech_psionic_theory
			add_research_option = tech_psi_jump_drive_1
			add_research_option = tech_precognition_interface
			add_research_option = tech_cloaking_psi
			add_research_option = tech_psionic_barrier
			add_research_option = tech_psionic_shield
			add_research_option = tech_epigenetic_triggers
			add_research_option = tech_unusual_senses
			add_research_option = tech_new_numbers
			add_research_option = tech_trinary_computing
			add_research_option = tech_atmospheric_orbital_mechanics
			add_research_option = tech_predatory_tactics
			add_research_option = tech_satisfying_insults
			add_research_option = tech_compact_living
			add_research_option = tech_alien_topography
			add_research_option = tech_xeno_aesthetics
			add_research_option = tech_lost_building_methods
			add_research_option = tech_supreme_alloy
			add_research_option = tech_ordered_retreat
			add_research_option = tech_temple_of_transportation
			add_research_option = tech_mine_living_metal
			add_research_option = tech_mine_betharian
			add_research_option = tech_mine_volatile_motes
			add_research_option = tech_mine_exotic_gases
			add_research_option = tech_mine_rare_crystals
			add_research_option = tech_mine_zro
			add_research_option = tech_mine_dark_matter
			add_research_option = tech_nanite_transmutation
			add_research_option = tech_curator_lab
			add_research_option = tech_archeology_lab_ancrel
			add_research_option = tech_containment_vessel
			add_research_option = tech_mining_drone_weapon_1
			add_research_option = tech_space_cloud_weapon_1
			add_research_option = null_void_beam
			add_research_option = tech_amoeba_strike_craft_1
			add_research_option = tech_space_whale_weapon_1
			add_research_option = tech_crystal_armor_1
			add_research_option = tech_crystal_armor_2
			add_research_option = tech_scourge_missile_1
			add_research_option = tech_swarm_strike_craft_1
			add_research_option = tech_extradimensional_weapon_1
			add_research_option = tech_synth_queen_knowledge
			add_research_option = tech_nanite_repair_system_synth_queen
		}
	}
}
